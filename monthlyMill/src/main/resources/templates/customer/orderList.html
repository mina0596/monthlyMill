<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link type="text/css" rel="stylesheet" href="../../static/css/style.css" />
    <link type="text/css" rel="stylesheet" th:href="@{/css/style.css}" />
    <script
      src="https://kit.fontawesome.com/7161175c87.js"
      crossorigin="anonymous"
    ></script>
    <title>월간방앗간</title>
  </head>
  <body>
    <header></header>

    <div class="wrapper">
      <aside class="asideMenu" data-asideMenu-number="1"></aside>

      <section class="content_box withAside">
        <div class="main_box periodSet_box">
          <h3 class="h3_title">주문/배송 조회</h3>
          <div class="button_box">
            <div class="button_box_column text ss">
              <input type="radio" name="order_period" class="periodBtn hidden" id="period_1month" checked="checked"></input>
              <label for="period_1month" class="btn square ">1개월</label>
              <input type="radio" name="order_period" class="periodBtn hidden" id="period_3month"></input>
              <label for="period_3month" class="btn square">3개월</label>
              <input type="radio" name="order_period" class="periodBtn hidden" id="period_6month"></input>
              <label for="period_6month" class="btn square">6개월</label>
              <input type="radio" name="order_period" class="periodBtn hidden" id="period_12month"></input>
              <label for="period_12month" class="btn square">1년</label>
              <input type="radio" name="order_period" class="periodBtn hidden" id="period_self"></input>
              <label for="period_self" class="btn square">직접입력</label>
            </div>
            <div class="button_box_column periodSelfInput">
              <input type="date" name="" id="" class="inputPeriodStart" disabled />
              <span>~</span>
              <input type="date" name="" id="" class="inputPeriodEnd" disabled/>
              <button type="button" name="order_period" class="periodInquiryBtn btn square" disabled>조회</button>
            </div>
          </div>
        </div>

        <div class="main_box">
          <!--해당하는 기간 내에 주문내역이 있는 경우 -->
          <!--  orderList_list_box 하나 당 주문 하나 -->
          <form th:action="@{/customer/order/cancelOrderForm}" method="get" id="getCancelOrderNum">
          <div class="orderList_list_box" th:if="${#lists.size(orderNumList) > 0 && #lists.size(orderList) > 0}" th:each="on : ${orderNumList}" >
            <h4 class="h4_title underbar">
              주문일: <span th:text="${on.orderRegDate}">0000-00-00 (요일)</span>
            </h4>
            <div class="orderList_top">
              <div class="">
                <!-- 주문 상태, 주문번호 여기 나옴-->
                <span class="orderState text emp">매칭완료</span>
                <span class="orderNumber" th:text="${on.orderNum}" th:value="${on.orderNum}">(주문번호)</span>
                <input type="hidden" th:value="${on.orderNum}" name="deleteOrderNum">
                <span>/ 2021-00-00(목)</span>
                <span>예약</span>
              </div>
              <div>
                <!-- 배송 상태 받아서 여기 나타나게 -->
                <span class="delivaryState">배송준비중</span>
              </div>
            </div>
            <table class="orderList_table" th:each="ol : ${orderList}" th:if="${on.orderNum} == ${ol.orderNum}">
              <colgroup>
                <col width="25%" />
                <col width="75%" />
              </colgroup>
              <tr>
                <td class="list_column column_left">
                  <img src="" class="itemImg" alt="제품사진" />
                </td>
                <td class="list_column column_right">
                  <p class="itemName" th:text="${ol.pName}">제품명</p>
                  <div>
                    <span class="price_number" th:text="${ol.pPrice} * ${ol.pCount}">(가격)</span>
                    <span class="item_number" th:text="${ol.pCount}">(개수)</span>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="list_column column_left">
                  <img src="" class="itemImg" alt="제품사진" />
                </td>
                <td class="list_column column_right">
                  <p class="itemName" th:text="${ol.pName}">제품명</p>
                  <div>
                    <span class="price_number" th:text="${ol.pPrice} * ${ol.pCount}">(가격)</span>
                    <span class="item_number" th:text="${ol.pCount}">(개수)</span>
                  </div>
                </td>
              </tr>
            </table>
            <div class="orderList_bottom">
              <!--클릭 시 orderCancel.html로 -->
              <button type="button" class="orderCancelBtn">주문취소</button>
            </div>
          </div>
          

          <!-- orderList_text_box: 주문내역 없을 때 뜨는 부분 -->
          <div class="orderList_text_box text_box" th:unless="${#lists.size(orderNumList) > 0 && #lists.size(orderList) > 0}">
            <p class="orderList_text">
              주문 내역이 없습니다. 
            </p>
          </div>
	   </form>
        </div>
      </section>
    </div>
    <footer></footer>

    <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="../../static/js/layout_front.js"></script>
    <script src="../../static/js/customer/orderList_front.js"></script>
    

    <script th:src="@{/js/jquery/jquery-3.6.0.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/layout_front.js}"></script>
    <script type="text/javascript" th:src="@{/js/customer/orderList_front.js}"></script>
    <script type="text/javascript" th:src="@{/js/customer/orderList.js}"></script>
  </body>
</html>
